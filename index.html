<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Soldiers of Valor (Veteran Resource Center) - Tactical Display</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>

    <style>
    /* ========== GLOBAL THEME / HUD ========== */
    :root {
        --military-green: #1f3324;
        --military-green-light: #2f4a35;
        --hud-accent: #31ff7a;
    }

    body {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        background-color: #020617; /* slate-950 */
        color: #e2e8f0; /* slate-200 */

        /* layered HUD background: vignette + grid + glow */
        background-image:
            radial-gradient(circle at top left, rgba(22, 163, 74, 0.25), transparent 55%),
            radial-gradient(circle at bottom right, rgba(56, 189, 248, 0.2), transparent 60%),
            linear-gradient(
                to bottom,
                rgba(15, 23, 42, 0.7) 1px,
                transparent 1px
            ),
            linear-gradient(
                to right,
                rgba(15, 23, 42, 0.7) 1px,
                transparent 1px
            );
        background-size: 100% 100%, 100% 100%, 50px 50px, 50px 50px;
    }

    /* HUD Elements */
    .panel {
        background-color: #0f172a; /* slate-900 */
        border: 1px solid #1e293b; /* slate-800 */
        box-shadow: 0 0 10px rgba(49, 255, 122, 0.1);
        border-radius: 4px;
    }

    .btn-primary {
        @apply bg-[var(--hud-accent)] text-slate-900 font-bold py-2 px-4 rounded-sm transition-all duration-200;
        box-shadow: 0 0 8px rgba(49, 255, 122, 0.5);
    }
    .btn-primary:hover {
        @apply bg-white;
        box-shadow: 0 0 15px rgba(49, 255, 122, 0.8);
    }

    /* Tab styles */
    .tab-btn {
        @apply py-2 px-4 text-sm font-medium border-b-2 border-transparent transition-all duration-200;
        color: #94a3b8; /* slate-400 */
    }
    .tab-btn:hover {
        @apply border-slate-700 text-slate-300;
    }
    .tab-active {
        @apply border-[var(--hud-accent)] text-[var(--hud-accent)] font-bold;
    }

    /* Text accents */
    .accent-green {
        color: var(--hud-accent);
    }
    .accent-orange {
        color: #f97316; /* orange-600 */
    }

    /* Custom form styling for HUD feel */
    input[type="text"], textarea, select {
        @apply bg-slate-800 border-slate-700 text-slate-200;
        border-radius: 2px;
    }
    input:focus, textarea:focus, select:focus {
        @apply ring-1 ring-[var(--hud-accent)] border-[var(--hud-accent)];
        outline: none;
    }

    </style>
</head>
<body class="p-8">

    <div class="max-w-6xl mx-auto space-y-8">

        <header class="panel flex justify-between items-center p-4 border-b-2 border-[var(--hud-accent)]">
            <h1 class="text-2xl font-bold accent-green">SOLDIERS OF VALOR [RESOURCE HUB v2.1]</h1>
            <div class="text-sm">
                <span class="accent-orange">[STATUS: ONLINE]</span> |
                <span id="datetime" class="text-slate-400">DEC 01 2025 14:13:42 MST</span>
            </div>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-3 gap-8">

            <div class="lg:col-span-2 space-y-6">

                <nav class="panel p-0 flex space-x-4 border-b border-slate-700">
                    <button class="tab-btn tab-active" data-target="content-summary">RESUME BUILDER</button>
                    <button class="tab-btn" data-target="content-employment">EMPLOYMENT HUB</button>
                    <button class="tab-btn" data-target="content-benefits">BENEFITS CHECK</button>
                </nav>

                <div class="space-y-6">
                    
                    <section id="content-summary" class="content-panel panel p-6 space-y-4">
                        <h2 class="text-xl font-bold accent-orange border-b border-slate-700 pb-2">RESUME DATA INPUT (GENERATOR)</h2>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label for="name-input" class="text-xs font-medium uppercase text-hud-accent">Full Name</label>
                                <input id="name-input" type="text" placeholder="John 'Viper' Doe" class="w-full mt-1 p-2">
                            </div>
                            <div>
                                <label for="mos-input-pdf" class="text-xs font-medium uppercase text-hud-accent">Primary MOS/Rate/AFSC</label>
                                <input id="mos-input-pdf" type="text" placeholder="E.g., 68W (for PDF Header)" class="w-full mt-1 p-2">
                            </div>
                        </div>

                        <div>
                            <label for="summary-input" class="text-xs font-medium uppercase text-hud-accent">Professional Summary / Objective</label>
                            <textarea id="summary-input" rows="4" placeholder="Dedicated U.S. Military Veteran transitioning into civilian workforce..." class="w-full mt-1 p-2"></textarea>
                        </div>

                        <div>
                            <label for="experience-input" class="text-xs font-medium uppercase text-hud-accent">Work Experience / Military Duties</label>
                            <textarea id="experience-input" rows="6" placeholder="Lead a team of 15 personnel in high-risk logistics operations..." class="w-full mt-1 p-2"></textarea>
                        </div>

                        <div>
                            <label for="education-input" class="text-xs font-medium uppercase text-hud-accent">Education / Certifications</label>
                            <textarea id="education-input" rows="3" placeholder="A.A.S. Logistics, Basic Life Support (BLS) Certified" class="w-full mt-1 p-2"></textarea>
                        </div>

                        <div>
                            <label for="skills-input" class="text-xs font-medium uppercase text-hud-accent">Key Skills (Comma Separated)</label>
                            <input id="skills-input" type="text" placeholder="Leadership, Logistics, Teamwork, Budgeting, Troubleshooting" class="w-full mt-1 p-2">
                        </div>

                        <button id="generate-pdf-btn" class="btn-primary w-full mt-4">GENERATE RESUME (PDF OUTPUT)</button>
                    </section>

                    <section id="content-employment" class="content-panel panel p-6 space-y-4 hidden">
                        <h2 class="text-xl font-bold accent-orange border-b border-slate-700 pb-2">MILITARY TO CIVILIAN TRANSLATION TOOL</h2>
                        
                        <div id="translation-tool" class="space-y-4">
                            <div class="space-y-3 p-4 panel bg-slate-900/30 border border-slate-700 rounded-lg">
                                <p class="text-sm font-light text-slate-400">
                                    Enter your Military Occupational Classification (MOS/RATE/AFSC) to translate your experience into common civilian career terms and skills.
                                </p>
                            
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                                    <div>
                                        <label for="branch-select" class="text-xs font-medium uppercase text-hud-accent">Service Branch</label>
                                        <select id="branch-select" class="w-full mt-1 p-2 rounded bg-slate-800 border border-slate-700 text-slate-200 focus:ring-accent-orange focus:border-accent-orange">
                                            <option value="ARMY">Army (MOS)</option>
                                            <option value="NAVY">Navy (Rate)</option>
                                            <option value="USMC">Marine Corps (MOS)</option>
                                            <option value="USAF">Air Force (AFSC)</option>
                                            <option value="USCG">Coast Guard (Rate)</option>
                                        </select>
                                    </div>
                            
                                    <div>
                                        <label for="mos-input" class="text-xs font-medium uppercase text-hud-accent">MOS/RATE/CODE</label>
                                        <input id="mos-input" type="text" placeholder="E.g., 68W, HM, 2A6X2" class="w-full mt-1 p-2 rounded bg-slate-800 border border-slate-700 text-slate-200 focus:ring-accent-orange focus:border-accent-orange">
                                    </div>
                                </div>
                                
                                <button id="translate-mos-btn" class="btn-primary w-full mt-2">TRANSLATE MILITARY CODE</button>
                            </div>
        
                            <div id="loading-spinner" class="text-center hidden p-6">
                                <svg class="animate-spin h-8 w-8 text-hud-accent mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                                <p class="text-sm mt-2 text-slate-400">Searching database...</p>
                            </div>
        
                            <div id="translation-result" class="panel p-6 space-y-3 hidden bg-slate-900/30 border border-slate-700 rounded-lg">
                                <h4 id="job-title-output" class="text-2xl font-bold accent-orange border-b border-hud-accent/50 pb-2"></h4>
                                <div id="skills-output"></div>
                            </div>
                        </div>
                    </section>

                    <section id="content-benefits" class="content-panel panel p-6 space-y-4 hidden">
                        <h2 class="text-xl font-bold accent-orange border-b border-slate-700 pb-2">BENEFITS & ELIGIBILITY CHECK</h2>
                        <div class="space-y-4 text-slate-400">
                            <p>This section is currently under construction. In the future, this tool will connect veterans to verified VA and state-level benefit eligibility resources.</p>
                            <p class="font-bold accent-green">Current Recommended Action:</p>
                            <ul class="list-disc list-inside ml-4">
                                <li>Visit the <a href="https://www.va.gov" target="_blank" class="accent-green hover:underline">Official VA Website</a></li>
                                <li>Contact your local VSO (Veteran Service Officer) for personalized assistance.</li>
                            </ul>
                        </div>
                    </section>
                </div>
            </div>

            <div class="lg:col-span-1 space-y-6">
                <div class="panel p-4 h-full">
                    <h2 class="text-xl font-bold accent-green border-b border-slate-700 pb-2 mb-3">COMMAND LOG / LATEST INTELLIGENCE</h2>
                    <ul class="space-y-3 text-sm">
                        <li class="border-b border-slate-800 pb-2">
                            <span class="text-xs accent-orange">[2025-12-01]</span> **Resource Update:** Added new MOS translation tool to Employment Hub. Check the codes.
                        </li>
                        <li class="border-b border-slate-800 pb-2">
                            <span class="text-xs accent-orange">[2025-11-28]</span> **VA News:** New law passed expanding mental health coverage for post-9/11 veterans. Review PACT Act eligibility.
                        </li>
                        <li class="border-b border-slate-800 pb-2">
                            <span class="text-xs accent-orange">[2025-11-20]</span> **Career Fair:** Virtual Job Fair for transitioning service members scheduled for DEC 15. Link in email digest.
                        </li>
                        <li>
                            <span class="text-xs accent-orange">[2025-11-15]</span> **System Check:** All major systems online. Resume Generator active.
                        </li>
                    </ul>
                </div>
            </div>

        </main>
    </div>

    <script>
        // --- UPDATED MOCK TRANSLATION DATA ---
        // NOTE: For a professional solution, replace this object with a server-side API call to O*NET.
        const mockTranslations = {
            // Army MOS Examples
            "ARMY:68W": {
                title: "EMERGENCY MEDICAL TECHNICIAN / HEALTHCARE ASSISTANT",
                skills: ["Advanced Trauma Care", "Patient Triage & Assessment", "Emergency Field Operations", "Basic Life Support (BLS)", "Medical Logistics Management"]
            },
            "ARMY:42A": {
                title: "HUMAN RESOURCES SPECIALIST / PERSONNEL MANAGER",
                skills: ["Personnel Records Management", "Benefits Administration", "Recruitment & Onboarding", "Confidential Information Handling", "Workforce Scheduling"]
            },
            "ARMY:92Y": {
                title: "LOGISTICS & SUPPLY CHAIN MANAGER / WAREHOUSE SUPERVISOR",
                skills: ["Inventory Control (Millions of Dollars)", "Supply Chain Optimization", "Warehouse Safety & Operations", "Procurement & Budgeting", "Team Leadership (10+ Personnel)"]
            },
            "ARMY:11B": {
                title: "SECURITY SPECIALIST / OPERATIONS MANAGER / TRAINER",
                skills: ["Risk Mitigation & Analysis", "Crisis Management & Response", "Team Leadership (9-40 Personnel)", "Physical Security", "Advanced Training & Instruction"]
            },
            // Navy Rate Examples
            "NAVY:HM": {
                title: "HOSPITAL CORPSMAN / CLINICAL ASSISTANT / HEALTHCARE ADMINISTRATOR",
                skills: ["Patient Care and Triage", "Medical Record Keeping (HIPAA/HITECH)", "Immunization & Phlebotomy", "Dental Assistant Procedures", "Emergency First Aid"]
            },
            "NAVY:EO": {
                title: "HEAVY EQUIPMENT OPERATOR / CONSTRUCTION FOREMAN",
                skills: ["Earth Moving Equipment Operation", "Site Preparation & Grading", "Safety Compliance (OSHA)", "Maintenance & Repair Scheduling", "Civil Engineering Support"]
            },
            // Air Force AFSC Example
            "USAF:2A6X2": { // Aerospace Ground Equipment Mechanic
                title: "AIRCRAFT SUPPORT MECHANIC / FIELD SERVICE TECHNICIAN",
                skills: ["Diagnostic Testing & Troubleshooting", "Hydraulic & Pneumatic Systems Maintenance", "Safety Compliance (OSHA/EPA)", "Technical Documentation & Reporting", "Preventive Maintenance Scheduling"]
            },
            // Marine Corps MOS
            "USMC:0311": {
                title: "CRISIS MANAGEMENT / PHYSICAL SECURITY SPECIALIST / INSTRUCTOR",
                skills: ["Risk Assessment & Mitigation", "Team Leadership in Austere Environments", "Tactical Communications", "Advanced Weapons Systems Proficiency", "Personnel Training & Development"]
            },
            // Generic/Rank/Title Lookups (Fallback for non-code inputs)
            "GENERIC:PLATOON LEADER": {
                title: "PROJECT MANAGER / OPERATIONS DIRECTOR",
                skills: ["Strategic Planning", "Team Leadership (20+ Personnel)", "Logistics & Supply Chain Management", "Budget Allocation & Oversight"]
            },
            "GENERIC:NCOIC": {
                title: "SUPERVISOR / SHIFT MANAGER / FIRST-LINE LEADER",
                skills: ["Employee Performance Evaluation", "Workflow Management", "Conflict Resolution", "Regulatory Compliance", "Training & Development"]
            },
        };

        // --- UPDATED JAVASCRIPT LOGIC ---

        document.addEventListener('DOMContentLoaded', () => {
            // Set initial date/time in the header
            function updateDateTime() {
                const now = new Date();
                const options = { month: 'short', day: '2-digit', year: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit', timeZoneName: 'short' };
                document.getElementById('datetime').textContent = now.toLocaleDateString('en-US', options).toUpperCase().replace(',', '');
            }
            updateDateTime();
            setInterval(updateDateTime, 1000); // Update every second

            // TAB SWITCHING LOGIC (Kept from original)
            const tabs = document.querySelectorAll('.tab-btn');
            const contents = document.querySelectorAll('.content-panel');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('tab-active'));
                    contents.forEach(c => c.classList.add('hidden'));

                    tab.classList.add('tab-active');
                    const targetId = tab.getAttribute('data-target');
                    document.getElementById(targetId).classList.remove('hidden');
                });
            });

            // Set initial active tab
            document.querySelector('.tab-btn[data-target="content-summary"]').classList.add('tab-active');
            document.getElementById('content-summary').classList.remove('hidden');
            
            // MOS TRANSLATION LOGIC (NEW/UPDATED)
            const translateBtn = document.getElementById('translate-mos-btn');
            if (translateBtn) {
                translateBtn.addEventListener('click', handleMosTranslation);
            }

            // PDF Generation Logic (Kept from original)
            const generatePdfBtn = document.getElementById('generate-pdf-btn');
            if (generatePdfBtn) {
                generatePdfBtn.addEventListener('click', generateResumePdf);
            }
        });

        function handleMosTranslation() {
            const mosInput = document.getElementById('mos-input');
            const branchSelect = document.getElementById('branch-select');
            const resultDiv = document.getElementById('translation-result');
            const titleOutput = document.getElementById('job-title-output');
            const skillsOutput = document.getElementById('skills-output');
            const loadingSpinner = document.getElementById('loading-spinner');

            const mosTerm = mosInput.value.toUpperCase().trim();
            const branch = branchSelect.value.toUpperCase();
            
            // Key for the specific MOS in the selected branch
            const lookupKey = `${branch}:${mosTerm}`;
            
            // Key for generic rank/title lookup
            const genericKey = `GENERIC:${mosTerm}`;

            // Basic input validation
            if (mosTerm.length < 2) {
                alert("Please enter a valid MOS, Rate, or job title.");
                return;
            }

            // Show loading spinner and hide previous result
            resultDiv.classList.add('hidden');
            loadingSpinner.classList.remove('hidden');

            // --- THIS setTimeout() MIMICS A REAL API CALL ---
            // FOR A REAL O*NET IMPLEMENTATION, THIS IS WHERE YOU'D PUT YOUR fetch() CALL TO YOUR SERVER
            setTimeout(() => {
                let translation = mockTranslations[lookupKey];

                // 1. Try specific Branch:Code lookup (e.g., ARMY:68W)
                // 2. Fallback to Generic lookup (e.g., GENERIC:PLATOON LEADER)
                if (!translation) {
                    translation = mockTranslations[genericKey];
                }

                if (translation) {
                    // SUCCESS: Display the result
                    titleOutput.textContent = translation.title;
                    skillsOutput.innerHTML = `<h5 class="font-bold text-slate-300">CORE TRANSFERABLE SKILLS:</h5><ul class="list-disc list-inside space-y-1 mt-2 text-sm text-slate-400">${translation.skills.map(skill => `<li>${skill}</li>`).join('')}</ul>`;
                    
                    // Set success style
                    resultDiv.classList.remove('bg-red-900/30');
                    resultDiv.classList.add('bg-slate-900/30');

                } else {
                    // FAILURE: Display Not Found message
                    titleOutput.textContent = `CODE NOT FOUND: ${mosTerm}`;
                    skillsOutput.innerHTML = `<p class="text-sm text-slate-400">We couldn't find a direct match for the code **${mosTerm}** in the **${branch}** database. Please try a different code or a more general term (e.g., 'LOGISTICS', 'HR').</p>`;
                    
                    // Set error style
                    resultDiv.classList.remove('bg-slate-900/30');
                    resultDiv.classList.add('bg-red-900/30'); 
                }

                // Show result and hide spinner
                loadingSpinner.classList.add('hidden');
                resultDiv.classList.remove('hidden');

            }, 750); // Increased delay slightly for better visual feedback
        }

        // --- PDF GENERATION FUNCTION (Kept from original) ---
        function generateResumePdf() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            const name = document.getElementById('name-input').value || "U.S. VETERAN NAME";
            const mos = document.getElementById('mos-input-pdf').value.toUpperCase() || "MILITARY OCCUPATIONAL SPECIALTY";
            const summary = document.getElementById('summary-input').value;
            const experience = document.getElementById('experience-input').value;
            const education = document.getElementById('education-input').value;
            const skills = document.getElementById('skills-input').value;

            // Header
            doc.setFont("Helvetica", "bold");
            doc.setFontSize(24);
            doc.setTextColor(30); // Dark text for print
            doc.text(name.toUpperCase(), 40, 50);
            
            doc.setFont("Helvetica", "normal");
            doc.setFontSize(12);
            doc.setTextColor(80);
            doc.text(`Primary Speciality: ${mos}`, 40, 60);
            
            // Contact Placeholder
            doc.setFontSize(10);
            doc.text("Email | Phone | Location", 40, 70);

            function section(title, y) {
                doc.setFont("Helvetica", "bold");
                doc.setFontSize(14);
                doc.setTextColor(30);
                doc.text(title.toUpperCase(), 40, y);
                doc.setDrawColor(150);
                doc.setLineWidth(0.5);
                doc.line(40, y + 2, 170, y + 2);
                return y + 10;
            }

            let y = section("Professional Summary", 85);
            doc.setFont("Helvetica", "normal");
            doc.setFontSize(11);
            doc.setTextColor(50);
            doc.text(
                summary || "Dedicated U.S. Military Veteran transitioning into civilian workforce. Highly skilled in leadership, complex logistics, and advanced troubleshooting.",
                40, y, { maxWidth: 160 }
            );

            y = section("Experience", y + 40);
            doc.text(
                experience || "Add detailed work experience here (e.g., 'Led a team of 15 personnel in high-risk logistics operations...' ).",
                40, y, { maxWidth: 160 }
            );

            y = section("Education", y + 50);
            doc.text(
                education || "Add your education and certifications (e.g., A.A.S. Logistics, Basic Life Support (BLS) Certified).",
                40, y, { maxWidth: 160 }
            );

            y = section("Skills", y + 40);
            const skillList = (skills || "Leadership, Logistics, Training, Troubleshooting")
                .split(",")
                .map(s => s.trim())
                .filter(s => s.length > 0);
            
            let skillY = y;
            skillList.forEach((skill, index) => {
                doc.text(`â€¢ ${skill}`, 40, skillY);
                skillY += 6;
            });

            doc.save(`${name.replace(/\s/g, '_')}_Resume_Valor.pdf`);
        }

    </script>
</body>
</html>
